<div>
    <div>
        <mine-breadcrumb values="menuLocation"></mine-breadcrumb>
    </div>
    <table>
        <tr>
            <td width="200">
                <div class="mine-border" style="min-height: 500px; max-height: 500px; overflow: auto;">
                    <ul id="menuTree" class="ztree"></ul>
                </div>
            </td>
            <td width="20"></td>
            <td valign="top">
                <form class="form-horizontal" name="menuForm">
                    <input type="hidden" ng-model="menu.id">
                    <div class="control-title">菜单信息</div>
                    <div class="alert" ng-if="messageStatus != null"
                         ng-class="{true:'alert-success',false:'alert-error'}[messageStatus]">
                        {{message}}
                    </div>
                    <div class="form-group" ng-class="{false:'has-error'}[menuForm.name.$valid]">
                        <label class="col-sm-2 control-label">菜单名称<span
                                class="mine-required">*</span></label>
                        <div class="col-sm-5">
                            <input type="text" name="name" ng-model="menu.name" class="form-control input-sm" required/>
                        </div>
                        <label class="control-label">
                            <mine-validator when="menuForm.name.$dirty" valid="menuForm.name.$valid"
                                            error="不能为空"></mine-validator>
                        </label>
                    </div>
                    <div class="form-group">
                        <label class="col-sm-2 control-label">上级菜单</label>
                        <div class="col-sm-5">
                            <input type="text" ng-model="menu.parentName" class="form-control input-sm" readonly>
                        </div>
                    </div>
                    <div class="form-group" ng-class="{false:'has-error'}[menuForm.sequence.$valid]">
                        <label class="col-sm-2 control-label">排序<span class="mine-required">*</span></label>
                        <div class="col-sm-5">
                            <input type="text" name="sequence" class="form-control input-sm" ng-model="menu.sequence"
                                   required>
                        </div>
                        <label class="control-label">
                            <mine-validator when="menuForm.sequence.$dirty" valid="menuForm.sequence.$valid"
                                            error="不能为空"></mine-validator>

                        </label>
                    </div>
                    <div class="form-group">
                        <label class="col-sm-2 control-label">菜单地址</label>
                        <div class="col-sm-5">
                            <input type="text" name="url" ng-model="menu.url" class="form-control input-sm">
                        </div>
                    </div>
                    <div class="form-group">
                        <label class="col-sm-2 control-label"></label>
                        <div class="col-sm-7">
                            <button class="btn btn-primary btn-sm" type="button" ng-click="update()"
                                    ng-disabled="menu.id == null || menuForm.$invalid">保存
                            </button>
                            <button class="btn btn-primary btn-sm" type="button" ng-click="delete()"
                                     ng-disabled="menu.id == null">删除
                            </button>
                            <button class="btn btn-primary btn-sm" type="button" ng-click="open()"
                                    ng-disabled="menu.level != 1" >添加子菜单
                            </button>
                        </div>
                    </div>
                </form>
            </td>
        </tr>
    </table>
</div>